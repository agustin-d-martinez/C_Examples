/*******************************************************************************************************************************//**
 *
 * @file		driverHandler.h
 * @brief		Funciones de manejo del driver my_alarm.
 * @date		08 oct. 2025
 * @author		Martinez Agustin
 *
 **********************************************************************************************************************************/

 /***********************************************************************************************************************************
 *** MODULO
 **********************************************************************************************************************************/
#ifndef DRIVERHANDLER_H
#define DRIVERHANDLER_H
/***********************************************************************************************************************************
 *** INCLUDES GLOBALES
 **********************************************************************************************************************************/
#include "../inc/data.h"
#include <stdio.h>      // files, scanf
#include <stdlib.h>     // sleep
#include <unistd.h>     // sleep
#include <fcntl.h>

/***********************************************************************************************************************************
 *** DEFINES GLOBALES
 **********************************************************************************************************************************/
/**
 * \enum
 * \brief Identificadores de los actuadores controlados por el driver *my_alarm*.
 */
 enum{
    NONE = 0,
    BUZZER,
    GREEN_LED,
    RED_LED,
    ORANGE_LED
};

/***********************************************************************************************************************************
 *** TIPO DE DATOS GLOBALES
 **********************************************************************************************************************************/
/**
 * \struct driver_msg_t
 * \brief Estructura de mensaje utilizada para comunicarse con el driver *my_alarm*.
 */
 typedef struct{
    char command;   /**< Código del dispositivo o acción a ejecutar. */
    char dec_ms;    /**< Duración de la activación en décimas de milisegundos. */
} driver_msg_t;

/***********************************************************************************************************************************
 *** IMPLANTACION DE LA CLASE
 **********************************************************************************************************************************/
int readDriver( int driver_fd, KeyEntry_t* _driver_buff );
int writeDriver(int driver_fd, const driver_msg_t _msg, int _sem);

#endif /* DRIVERHANDLER_H */